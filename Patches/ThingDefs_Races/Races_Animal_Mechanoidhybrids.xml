<?xml version="1.0" encoding="utf-8" ?>
<Patch>
    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="CombatExtended.PatchOperationFindMod">
                <modName>Genetic Rim</modName>
            </li>

            <!-- Mechanoid - Bear -->
            <li Class="PatchOperationAddModExtension">
                <xpath>*/ThingDef[defName="GR_Mechabear"]</xpath>
                <value>
                    <li Class="CombatExtended.RacePropertiesExtensionCE">
                        <bodyShape>Quadruped</bodyShape>
                    </li>
                </value>
            </li>

            <li Class="PatchOperationAdd">
                <xpath>*/ThingDef[defName="GR_Mechabear"]/statBases</xpath>
                <value>
                    <MeleeDodgeChance>0.07</MeleeDodgeChance>
                    <MeleeCritChance>0.6</MeleeCritChance>
                </value>
            </li>

            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="GR_Mechabear"]/statBases/ArmorRating_Blunt</xpath>
                <value>
                    <ArmorRating_Blunt>0.35</ArmorRating_Blunt>
                </value>
            </li>

            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="GR_Mechabear"]/statBases/ArmorRating_Sharp</xpath>
                <value>
                    <ArmorRating_Sharp>0.5</ArmorRating_Sharp>
                </value>
            </li>

            <li Class="PatchOperationReplace">
                <xpath>*/ThingDef[defName="GR_Mechabear"]/tools</xpath>
                <value>
                    <tools>
                        <li Class="CombatExtended.ToolCE">
                            <label>head</label>
                            <capacities>
                                <li>Blunt</li>
                            </capacities>
                            <power>15</power>
                            <cooldownTime>1.65</cooldownTime>
                            <linkedBodyPartsGroup>HeadAttackTool</linkedBodyPartsGroup>
                            <armorPenetration>0.4</armorPenetration>
                        </li>
                    </tools>
                </value>
            </li>

            <!-- Mechanoid - Boomalope -->
            <li Class="PatchOperationAddModExtension">
                <xpath>*/ThingDef[defName="GR_Mechalope"]</xpath>
                <value>
                    <li Class="CombatExtended.RacePropertiesExtensionCE">
                        <bodyShape>Quadruped</bodyShape>
                    </li>
                </value>
            </li>

            <li Class="PatchOperationAdd">
                <xpath>*/ThingDef[defName="GR_Mechalope"]/statBases</xpath>
                <value>
                    <MeleeDodgeChance>0.06</MeleeDodgeChance>
                    <MeleeCritChance>0.3</MeleeCritChance>
                </value>
            </li>

            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="GR_Mechalope"]/statBases/ArmorRating_Blunt</xpath>
                <value>
                    <ArmorRating_Blunt>0.2</ArmorRating_Blunt>
                </value>
            </li>

            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="GR_Mechalope"]/statBases/ArmorRating_Sharp</xpath>
                <value>
                    <ArmorRating_Sharp>0.25</ArmorRating_Sharp>
                </value>
            </li>

            <li Class="PatchOperationReplace">
                <xpath>*/ThingDef[defName="GR_Mechalope"]/tools</xpath>
                <value>
                    <tools>
                        <li Class="CombatExtended.ToolCE">
                            <label>head</label>
                            <capacities>
                                <li>Blunt</li>
                            </capacities>
                            <power>10</power>
                            <cooldownTime>1.65</cooldownTime>
                            <linkedBodyPartsGroup>HeadAttackTool</linkedBodyPartsGroup>
                            <armorPenetration>0.2</armorPenetration>
                        </li>
                    </tools>
                </value>
            </li>

            <!-- Mechanoid - Chicken -->
            <li Class="PatchOperationAddModExtension">
                <xpath>*/ThingDef[defName="GR_Mechachicken"]</xpath>
                <value>
                    <li Class="CombatExtended.RacePropertiesExtensionCE">
                        <bodyShape>Birdlike</bodyShape>
                    </li>
                </value>
            </li>

            <li Class="PatchOperationAdd">
                <xpath>*/ThingDef[defName="GR_Mechachicken"]/statBases</xpath>
                <value>
                    <MeleeDodgeChance>0.06</MeleeDodgeChance>
                    <MeleeCritChance>0.3</MeleeCritChance>
                </value>
            </li>

            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="GR_Mechachicken"]/statBases/ArmorRating_Blunt</xpath>
                <value>
                    <ArmorRating_Blunt>0.15</ArmorRating_Blunt>
                </value>
            </li>

            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="GR_Mechachicken"]/statBases/ArmorRating_Sharp</xpath>
                <value>
                    <ArmorRating_Sharp>0.15</ArmorRating_Sharp>
                </value>
            </li>

            <li Class="PatchOperationReplace">
                <xpath>*/ThingDef[defName="GR_Mechachicken"]/tools</xpath>
                <value>
                    <tools>
                        <li Class="CombatExtended.ToolCE">
                            <label>head</label>
                            <capacities>
                                <li>Blunt</li>
                            </capacities>
                            <power>3</power>
                            <cooldownTime>1.65</cooldownTime>
                            <linkedBodyPartsGroup>HeadAttackTool</linkedBodyPartsGroup>
                            <armorPenetration>0.2</armorPenetration>
                        </li>
                    </tools>
                </value>
            </li>

        </operations>
    </Operation>
</Patch>
